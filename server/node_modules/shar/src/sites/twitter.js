module.exports = {
    get: function (url, callback) {
        var api = 'https://cdn.api.twitter.com/1/urls/count.json';

        var script = require('../lib/script');
        var randfu = require('../lib/randfu');

        var name = randfu(function (data) {
            callback({
                url: url,
                count: data.count
            });
        });

        script(api + '?url=' + encodeURIComponent(url) + '&callback=' + name);
    },

    share: function (params) {
        var popup = require('../lib/popup');

        var url = 'https://twitter.com/intent/tweet' +
            '?url=' + encodeURIComponent(params.url) +
            '&text=' + params.text;

        popup({
            url: url,
            width: 600,
            height: 450
        });
    }
};
