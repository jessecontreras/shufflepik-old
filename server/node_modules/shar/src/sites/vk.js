module.exports = {
    get: function (url, callback) {
        var script = require('../lib/script');

        if (!window.VK) { window.VK = {}; }

        window.VK.Share = {
            count: function(idx, number) {
                callback({
                    url: url,
                    count: number
                });
            }
        };

        script('https://vk.com/share.php?act=count&index=0&url=' + url);
    },

    share: function (params) {
        var popup = require('../lib/popup');

        var url = 'https://vk.com/share.php' +
            '?url=' + params.url +
            '&title=' + params.text;

        popup({
            url: url,
            width: 550,
            height: 330
        });
    }
};
