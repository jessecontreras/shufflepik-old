module.exports = function (settings) {
    var width = settings.width;
    var height = settings.height;

    var left = Math.round(screen.width / 2 - width / 2);
    var top = 0;

    if (screen.height > height) {
        top = Math.round(screen.height / 3 - height / 2);
    }

    var params = {
        left: left,
        top: top,
        width: width,
        height: height,
        personbar: 0,
        toolbar: 0,
        scrollbar: 1,
        resizeble: 1
    };

    var features = '';

    for (var key in params) {
        if (params.hasOwnProperty(key)) {
            if (features) { features += ','; }
            features += key + '=' + params[key];
        }
    }

    var popup = window.open(
        settings.url,
        settings.title || '',
        features
    );

    if (popup) {
        popup.focus();
    } else {
        location.href = settings.url;
    }
};
